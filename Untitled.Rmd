---
title: 'Tidy Tuesday: The Tate Art Museum'
date: '2021-01-14'
output:
  html_document: default
  pdf_document: default
---
Week 3 of #TidyTuesday features data from the Tate Art Museum. The following expert is a brief description from the Tate Art Museum 

> In 1889 Henry Tate, an industrialist who had made his fortune as a sugar refiner, offered his collection of British nineteenth-century art to the nation and provided funding for the first Tate Gallery. A campaign was begun to create a new gallery dedicated to British art. With the help of an £80,000 donation from Tate himself, the gallery at Millbank, now known as Tate Britain, was built and opened in 1897. Tate’s original bequest of works, together with works from the National Gallery, formed the founding collection. Today Tate has four major sites and the national collection of British art from 1500 to the present day and international modern and contemporary art, which includes nearly 70,000 artworks.

The Tate data is presented in two datasets, one with the metadata for the nearly 70,000 art pieces and one with metadata on nearly 3,500 associated artists. First we will load the data using the `tt_load()` command of the `tidytuesdayR` package. 

```{r setup, include=FALSE, results='hide'}

knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(tidytuesdayR)
library(ggridges)
library(paletteer)
```

```{r, message = FALSE,  results='hide'}
tt <- tt_load("2021-01-12")
artists <- tt$artists
artwork <- tt$artwork
```

There now is two dataframes, artists and artwork. Using `glimpse()` makes it possible to see the name of every column. Before I begin planning the visual, I want to see what data I'm working with. 

```{r}
glimpse(artists)
glimpse(artwork)
```

The artists data frame has 9 variables: id, name, gender, year of birth, year of death, place of birth, place of death and url. The artwork data frame has 20 variables that correspond to the metadata of the art pieces, including id, accession number, artist, artist role, artist id, title, data text, medium, credit line, year, acquisition and dimensions. 

That's a lot of information! I'm still not sure how to organize the data, so I'm going to start cleaning it up. A few categories stick out to me in both the artists and artwork data frames. I can select only those columns to make it easier to comprehend the data. Since each art piece has a corresponding artist in the artists data frame,  I can use `inner_join()` to join the two data frame together, resulting in a data frame, art_data, with all the information. 

```{r}
artists <- artists %>% 
  select(name, gender, yearOfBirth, yearOfDeath, placeOfBirth, placeOfDeath) 

artwork <- artwork %>% 
  select(artist, medium, year)

art_data <- artwork %>%
  inner_join(artists, by = c( "artist" = "name"))
```

Once again using `glimpse()`, we can preview the data to better understand what we are working with. `glimpse()` will also provide the class of each column, which is important for determining what type of statistical analysis to perform. 

```{r}
glimpse(art_data)
```

Immediately, I'm interested in the medium column. I start to wonder how the medium changes in relation to a variety of factors, including year, artist gender and artist place of birth. I decide on analyzing the distribution of medium by year. Specifically, I want to see if certain mediums are popular during certain time periods. The Tate Art Museum defines the medium as: 

> type of art (e.g. painting, sculpture, printmaking), as well as the materials an artwork is made from. For example a sculpture in the medium of bronze or marble; a painting in the medium of oil paint on canvas, or watercolour on paper; a drawing in the medium of pencil or crayon; a print in the medium of etching or lithography.

Should be pretty easy, right? Let's look at the medium data one more time. 

```{r}
head(art_data$medium)
```

Looks like the data for the medium column isn't presented as distinct categories (i.e. oil, watercolor, acrylic, etc) but rather in a more description-like format. This makes processing the data tricky and we'll have to perform some data manipulation before plotting. 

First, `filter()` is used to remove all NA entries for medium. Then, `mutate()` allows us to change the entries in the medium column. Within the `mutate()` command, we'll use a combination of the `stringr` and `forcats` packages (these are both included in the `tidyverse` package). 

```{r message=FALSE, warning=FALSE}
#recoding medium categories
art_medium <- art_data %>% 
  filter(!is.na(medium)) %>% 
  mutate(
    medium = str_extract(medium, "^([^ ]+)"), #command to match the first word of the string before the space
    medium = str_replace(medium, ",", " "), #any commas in the string will be replaced with a string
    medium = fct_recode(medium, "Paper/Engraving" = "Line", #fct_recode() renames the factors
                        "Paper/Engraving" = "Engraving", 
                        "Pen/Ink" = "Pen", 
                        "Pen/Ink" = "Ink"), 
    medium = str_trim(medium)) %>% 
  filter(!is.na(year))
```




